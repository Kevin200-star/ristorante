<div class="row">
  <div class="col-md-6">
    <h3><i class="fa fa-users"></i>Clients</h3>
  </div>
  <div class="col-md-6">
    <h5 class="text-right text-secondary">Total Owed: {{totalOwed  | currency:"KES":"symbol"}}</h5>
  </div>
</div>
<p>
  <input
  #query
  (keyup)="filter(query.value)"
  type="text"
  placeholder="Search client"
  class="form-control"
  >
</p>

<data-table
*ngIf="clients?.length > 0 ;else noClients"
[items]="items"
[itemCount]="itemCount"
(reload)="reloadItems($event)"
>


<data-table-column
[property]="'name'"
[header]="'Name'"
[sortable]="true"
[resizable]="true"
>
<ng-template #dataTableCell let-item="item">
  {{ item.firstName}} {{ item.lastName}}
</ng-template>

</data-table-column
>

<data-table-column
[property]="'email'"
[header]="'Email'"
[sortable]="true"
[resizable]="true"
>
<ng-template #dataTableCell let-item="item">
  {{ item.email}}
</ng-template>

</data-table-column
>

<data-table-column
[property]="'phone'"
[header]="'Phone'"
[sortable]="true"
[resizable]="true"
>
<ng-template #dataTableCell let-item="item">
  {{ item.phone}}
</ng-template>

</data-table-column
>

<data-table-column
[property]="'balance'"
[header]="'Balance'"
[sortable]="true"
[resizable]="true"
>
<ng-template #dataTableCell let-item="item">
  {{ item.balance | currency:"KES":"symbol" }}
</ng-template>

</data-table-column
>


<data-table-column
[property]="'key'"

>
<ng-template #dataTableCell let-item="item">
  <a [routerLink]="['client/',item.key]" class="btn btn-secondary"><i class="fa fa-arrow-circle-o-right"></i>Details</a>
</ng-template>

</data-table-column
>

</data-table>


<ng-template #noClients>
  <hr>
  <h5>There are no clients in the system</h5>
</ng-template>
